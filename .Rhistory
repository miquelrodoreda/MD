preprocessing1 <- read.csv("C:/Users/alejf/Desktop/UNI_END/MD/MD/dataset/preprocessing1.csv", sep=";")
View(preprocessing1)
unique(dd$original_location)
setwd("C:/Users/alejf/Desktop/UNI_END/MD/MD")
filename <- "dataset/preprocessing1.csv"
file.exists(filename)
dd <- read.csv(filename)
dd <- dd[, c("price_level", "vegan_options", "awards", "gluten_free", "cuisines", "original_location", "open_days_per_week", "avg_rating", "total_reviews_count", "food", "service", "atmosphere", "excellent", "meals")]
barplot(table(dd$original_location))
unique(dd$original_location)
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
#str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
print(dd$municipi)
filename <- "dataset/filtered_data.csv"
file.exists(filename)
dd <- read.csv(filename)
dd <- dd[, c("price_level", "vegan_options", "awards", "gluten_free", "cuisines", "original_location", "open_days_per_week", "avg_rating", "total_reviews_count", "food", "service", "atmosphere", "excellent", "meals")]
"vegan_options", "awards", "gluten_free", "cuisines", "original_location", "open_days_per_week", "avg_rating", "total_reviews_count", "food", "service", "atmosphere", "excellent", "meals")]
barplot(table(dd$original_location))
unique(dd$original_location)
unique(dd$original_location)
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
#str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
#str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
View(dd)
View(dd)
setwd("C:/Users/alejf/Desktop/UNI_END/MD/MD")
filename <- "dataset/filtered_data.csv"
file.exists(filename)
dd <- read.csv(filename)
dd <- dd[, c("price_level", "vegan_options", "awards", "gluten_free", "cuisines", "original_location", "open_days_per_week", "avg_rating", "total_reviews_count", "food", "service", "atmosphere", "excellent", "meals")]
unique(dd$original_location)
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
#str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
municipis_comarques <- read.csv("dataset/comarcas.csv")
View(municipis_comarques)
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
# install.packages("RColorBrewer")
library(RColorBrewer)
#library(dplyr)
#install.packages("dplyr")
#install.packages("stringi")
library(stringr)
#install.packages("VIM")
library(VIM)
#library(stringi)
setwd("C:/Users/alejf/Desktop/UNI_END/MD/MD")
filename <- "dataset/filtered_data.csv"
file.exists(filename)
dd <- read.csv(filename)
dd <- dd[, c("price_level", "vegan_options", "awards", "gluten_free", "cuisines", "original_location", "open_days_per_week", "avg_rating", "total_reviews_count", "food", "service", "atmosphere", "excellent", "meals")]
barplot(table(dd$original_location))
# ------------------------------------- original_location cleaning -------------------------------------
unique(dd$original_location)
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
filtered_data <- read.csv("C:/Users/alejf/Desktop/UNI_END/MD/MD/dataset/filtered_data.csv")
View(filtered_data)
filename <- "dataset/filtered_data.csv"
file.exists(filename)
dd <- read.csv(filename)
dd <- dd[, c("price_level", "vegan_options", "awards", "gluten_free", "cuisines", "original_location", "open_days_per_week", "avg_rating", "total_reviews_count", "food", "service", "atmosphere", "excellent", "meals")]
barplot(table(dd$original_location))
(table(dd$original_location))
# ------------------------------------- original_location cleaning -------------------------------------
unique(dd$original_location)
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
# install.packages("RColorBrewer")
library(RColorBrewer)
library(dplyr)
#install.packages("dplyr")
#install.packages("stringi")
library(stringr)
#install.packages("VIM")
library(VIM)
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
#str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
dd <- dd %>%
mutate(municipi = str_extract(original_location, "[^,]+(?=\\]$)") %>%
str_replace_all('""', '') %>%
str_remove_all('"') %>%
str_remove_all('\'') %>%
str_remove_all(' ') %>%
str_remove_all('-') %>%
#str_remove_all('\\') %>%
str_trim() %>%
stri_trans_general(id = "Latin-ASCII") %>%
str_to_lower())
rlang::last_trace()
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
